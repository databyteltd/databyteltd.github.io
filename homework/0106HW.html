<html>
<meta charset="utf-8">

<head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
    google.load("visualization", "1", {
        packages: ["corechart"]
    });

    function sum() {
        for (var x = 0; x < 6; x++) {
            for (var y = (x + 1); y < 7; y++) {
                if (document.getElementById("cate-" + x).value == document.getElementById("cate-" + y).value) {
                    document.getElementById("cate-" + y).value = "";
                    document.getElementById("money-" + x).value = Number(document.getElementById("money-" + x).value) + Number(document.getElementById("money-" + y).value);
                    document.getElementById("money-" + y).value = "";
                }
            }
        }
    }

    function drawChart() {
        var a = [];
        a[0] = ['項目', '金額'];
        var cate;
        var money;
        sum();
        for (var i = 0; i < 7; i++) {
            cate = document.getElementById("cate-" + i).value;
            money = document.getElementById("money-" + i).value;
            money = Number(money);
            a[i + 1] = [cate, money];
        }

        var data = google.visualization.arrayToDataTable(a);
        var options = {
            title: '記帳幫手',
        };
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
    }
    </script>
    <style type="text/css">
    div {
        margin-left: 10px;
    }
    
    .data {
        float: left;
        margin-top: 53px;
    }
    
    .result {
        float: left;
    }
    
    select {
        border: 2px dashed #006284;
        background: #D5F2F5;
        margin-bottom: 2px;
    }
    
    input {
        border: 2px dashed #006284;
        background: #D5F2F5;
        margin-bottom: 2px;
        padding-left: 2px;
    }
    </style>
</head>

<body>
    <div class="data">
        <div><span style="margin-left:35px;">類別</span><span style="margin-left:115px;">金額</span></div>
        <div>
            <select name="categories" id="cate-0">
                <option value="Food">Food</option>
                <option value="Traffic">Traffic</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Clothes">Clothes</option>
                <option value="Grocery">Grocery</option>
                <option value="Investment">Investment</option>
                <option value="Others">Others</option>
            </select>
            <input type="text" id="money-0" />
        </div>
        <div>
            <select name="categories" id="cate-1">
                <option value="Food">Food</option>
                <option value="Traffic">Traffic</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Clothes">Clothes</option>
                <option value="Grocery">Grocery</option>
                <option value="Investment">Investment</option>
                <option value="Others">Others</option>
            </select>
            <input type="text" id="money-1" />
        </div>
        <div>
            <select name="categories" id="cate-2">
                <option value="Food">Food</option>
                <option value="Traffic">Traffic</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Clothes">Clothes</option>
                <option value="Grocery">Grocery</option>
                <option value="Investment">Investment</option>
                <option value="Others">Others</option>
            </select>
            <input type="text" id="money-2" />
        </div>
        <div>
            <select name="categories" id="cate-3">
                <option value="Food">Food</option>
                <option value="Traffic">Traffic</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Clothes">Clothes</option>
                <option value="Grocery">Grocery</option>
                <option value="Investment">Investment</option>
                <option value="Others">Others</option>
            </select>
            <input type="text" id="money-3" />
        </div>
        <div>
            <select name="categories" id="cate-4">
                <option value="Food">Food</option>
                <option value="Traffic">Traffic</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Clothes">Clothes</option>
                <option value="Grocery">Grocery</option>
                <option value="Investment">Investment</option>
                <option value="Others">Others</option>
            </select>
            <input type="text" id="money-4" />
        </div>
        <div>
            <select name="categories" id="cate-5">
                <option value="Food">Food</option>
                <option value="Traffic">Traffic</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Clothes">Clothes</option>
                <option value="Grocery">Grocery</option>
                <option value="Investment">Investment</option>
                <option value="Others">Others</option>
            </select>
            <input type="text" id="money-5" />
        </div>
        <div>
            <select name="categories" id="cate-6">
                <option value="Food">Food</option>
                <option value="Traffic">Traffic</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Clothes">Clothes</option>
                <option value="Grocery">Grocery</option>
                <option value="Investment">Investment</option>
                <option value="Others">Others</option>
            </select>
            <input type="text" id="money-6" />
        </div>
        <div>
            <button onclick="drawChart();">Draw</button>
        </div>
    </div>
    <div class="result" id="piechart" style="width: 900px; height: 500px;"></div>
    <div style="clear:both;"></div>
</body>

</html>
